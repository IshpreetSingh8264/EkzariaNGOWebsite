import{R as e,r as f}from"./index-BOc7CmiS.js";import{F as h,a as w,b as C,c as S}from"./AdminPage-pGtBHMLQ.js";import{m as F}from"./proxy-C6KHqux_.js";import"./LoadingScreen-AHzN1HfZ.js";const k=({verified:t})=>e.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`},t?e.createElement(e.Fragment,null,e.createElement("svg",{className:"-ml-0.5 mr-1.5 h-2 w-2 text-green-400",fill:"currentColor",viewBox:"0 0 8 8"},e.createElement("circle",{cx:"4",cy:"4",r:"3"})),"Verified"):e.createElement(e.Fragment,null,e.createElement("svg",{className:"-ml-0.5 mr-1.5 h-2 w-2 text-red-400",fill:"currentColor",viewBox:"0 0 8 8"},e.createElement("circle",{cx:"4",cy:"4",r:"3"})),"Not Verified")),A=({student:t,editingId:n,onEdit:m,onDelete:o,onVerify:c,onView:l})=>e.createElement("div",{className:"flex space-x-2"},n!==t.id&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>l(t),className:"p-2 text-[#1976D2] hover:bg-[#E3F2FD] rounded-full transition-colors",title:"View Details"},e.createElement(h,{size:16})),e.createElement("button",{onClick:()=>m(t),className:"p-2 text-[#FFA000] hover:bg-[#FFF3E0] rounded-full transition-colors",title:"Edit"},e.createElement(w,{size:16})),!t.verified&&e.createElement("button",{onClick:()=>c(t.id),className:"p-2 text-[#388E3C] hover:bg-[#E8F5E9] rounded-full transition-colors",title:"Verify"},e.createElement(C,{size:16})),e.createElement("button",{onClick:()=>{window.confirm("Are you sure you want to delete this student?")&&o(t.id)},className:"p-2 text-[#D32F2F] hover:bg-[#FFEBEE] rounded-full transition-colors",title:"Delete"},e.createElement(S,{size:16})))),I=({students:t,editingId:n,editForm:m,setEditForm:o,onEdit:c,onDelete:l,onVerify:u,onView:i})=>e.createElement("div",{className:"w-full overflow-x-auto"},e.createElement("table",{className:"w-full divide-y divide-[#E0E0E0] min-w-[600px]"},e.createElement("thead",{className:"bg-[#FBE9E7]"},e.createElement("tr",null,e.createElement("th",{className:"px-2 sm:px-4 md:px-6 py-3 text-left text-xs sm:text-sm font-medium text-[#424242] uppercase tracking-wider"},"Name"),e.createElement("th",{className:"px-2 sm:px-4 md:px-6 py-3 text-left text-xs sm:text-sm font-medium text-[#424242] uppercase tracking-wider"},"Email"),e.createElement("th",{className:"px-2 sm:px-4 md:px-6 py-3 text-left text-xs sm:text-sm font-medium text-[#424242] uppercase tracking-wider"},"Status"),e.createElement("th",{className:"px-2 sm:px-4 md:px-6 py-3 text-left text-xs sm:text-sm font-medium text-[#424242] uppercase tracking-wider"},"Actions"))),e.createElement("tbody",{className:"bg-white divide-y divide-[#E0E0E0]"},t.length>0?t.map(r=>e.createElement("tr",{key:r.id,className:"hover:bg-gray-50"},e.createElement("td",{className:"px-2 sm:px-4 md:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-[#424242]"},n===r.id?e.createElement("input",{type:"text",value:m.name,onChange:d=>o({...m,name:d.target.value}),className:"border rounded p-1 w-full"}):r.name),e.createElement("td",{className:"px-2 sm:px-4 md:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-[#424242]"},n===r.id?e.createElement("input",{type:"email",value:m.email,onChange:d=>o({...m,email:d.target.value}),className:"border rounded p-1 w-full"}):r.email),e.createElement("td",{className:"px-2 sm:px-4 md:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-[#424242]"},e.createElement(k,{verified:r.verified})),e.createElement("td",{className:"px-2 sm:px-4 md:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-[#424242]"},e.createElement(A,{student:r,editingId:n,onEdit:c,onDelete:l,onVerify:u,onView:i})))):e.createElement("tr",null,e.createElement("td",{colSpan:"4",className:"px-2 sm:px-4 md:px-6 py-4 text-center text-xs sm:text-sm text-[#757575]"},"No student records found"))))),P=({formData:t,setFormData:n,showPersonalInfo:m,showEducationInfo:o,showFinancialInfo:c})=>{const l=u=>{const{name:i,value:r}=u.target;n(d=>({...d,[i]:r}))};return e.createElement("div",{className:"space-y-6"},m&&e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Personal Information"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Profile Photo"),t.photo&&e.createElement("div",{className:"mb-3"},e.createElement("img",{src:t.photo,alt:"Profile Preview",className:"h-24 w-24 rounded-full object-cover border-2 border-gray-300"})),e.createElement("input",{type:"file",accept:"image/*",onChange:u=>{const i=u.target.files[0];if(i){const r=new FileReader;r.onloadend=()=>{n(d=>({...d,photo:r.result}))},r.readAsDataURL(i)}},className:`w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-semibold\r
                  file:bg-[#C62828] file:text-white\r
                  hover:file:bg-[#8E0000]`})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Full Name"),e.createElement("input",{type:"text",name:"name",value:t.name,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email"),e.createElement("input",{type:"email",name:"email",value:t.email,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Gender"),e.createElement("select",{name:"gender",value:t.gender,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"},e.createElement("option",{value:""},"Select Gender"),e.createElement("option",{value:"Male"},"Male"),e.createElement("option",{value:"Female"},"Female"),e.createElement("option",{value:"Other"},"Other"))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number"),e.createElement("input",{type:"tel",name:"phone",value:t.phone,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Location"),e.createElement("input",{type:"text",name:"location",value:t.location,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nationality"),e.createElement("input",{type:"text",name:"nationality",value:t.nationality,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})))),o&&e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Education Information"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Education Level"),e.createElement("select",{name:"educationLevel",value:t.educationLevel,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"},e.createElement("option",{value:""},"Select Education Level"),e.createElement("option",{value:"High School"},"High School"),e.createElement("option",{value:"Undergraduate"},"Undergraduate"),e.createElement("option",{value:"Graduate"},"Graduate"),e.createElement("option",{value:"PhD"},"PhD"),e.createElement("option",{value:"Vocational"},"Vocational"))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Institution"),e.createElement("input",{type:"text",name:"institution",value:t.institution,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Field of Study"),e.createElement("input",{type:"text",name:"fieldOfStudy",value:t.fieldOfStudy,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Achievements"),e.createElement("textarea",{name:"achievements",value:t.achievements,onChange:l,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})))),c&&e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Financial Information"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Total Amount Needed ($)"),e.createElement("input",{type:"number",name:"totalAmountNeeded",value:t.totalAmountNeeded,onChange:l,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Funding Deadline"),e.createElement("input",{type:"date",name:"fundingDeadline",value:t.fundingDeadline,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Funding Needs"),e.createElement("textarea",{name:"fundingNeeds",value:t.fundingNeeds,onChange:l,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Reason for Financial Help"),e.createElement("textarea",{name:"financialHelpReason",value:t.financialHelpReason,onChange:l,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#C62828] focus:border-[#C62828]"})))))},O=({editForm:t,setEditForm:n,onSave:m,onClose:o})=>e.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},e.createElement("div",{className:"bg-white rounded-xl shadow-md overflow-hidden max-w-4xl w-full max-h-[90vh] overflow-y-auto"},e.createElement("div",{className:"p-6 md:p-8"},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement("h2",{className:"text-2xl font-bold"},"Edit Student Details"),e.createElement("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 text-2xl"},"×")),e.createElement(P,{formData:t,setFormData:n,showPersonalInfo:!0,showEducationInfo:!0,showFinancialInfo:!0}),e.createElement("div",{className:"mt-6 flex justify-between items-center"},e.createElement("div",{className:"flex items-center"},e.createElement("input",{type:"checkbox",id:"verified",checked:t.verified||!1,onChange:c=>n({...t,verified:c.target.checked}),className:"h-4 w-4 text-[#43A047] rounded border-gray-300 focus:ring-[#43A047]"}),e.createElement("label",{htmlFor:"verified",className:"ml-2 block text-sm text-gray-700"},"Verify Applicant")),e.createElement("button",{onClick:m,className:"px-6 py-2 bg-[#43A047] text-white rounded-md hover:bg-[#2E7D32] transition-colors"},"Save Changes"))))),R=({student:t,onClose:n})=>e.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto"},e.createElement("div",{className:"flex items-center justify-center min-h-screen p-2 sm:p-4"},e.createElement("div",{className:"bg-white rounded-xl shadow-md overflow-y-auto max-w-4xl w-full mx-2 sm:mx-4 my-4 max-h-[90vh] relative"},e.createElement("button",{onClick:n,className:"absolute top-6 left-6 w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 text-xl"},"×"),e.createElement("div",{className:"p-4 sm:p-6 md:p-8"},e.createElement("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 sm:gap-4 mb-3 sm:mb-6"},e.createElement("div",{className:"w-full sm:w-auto flex flex-col items-center sm:items-start sm:flex-row gap-2 sm:gap-4"},t.photo&&e.createElement("div",{className:"w-32 h-32 sm:w-36 sm:h-36 md:w-40 md:h-40 rounded-full overflow-hidden border-2 border-gray-200"},e.createElement("img",{src:t.photo.startsWith("data:image")?t.photo:`data:image/jpeg;base64,${t.photo}`,alt:t.name,className:"w-full h-full object-cover"})),e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2"},e.createElement("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900"},t.name),e.createElement("span",{className:`text-sm px-2 py-1 rounded ${t.verified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`},t.verified?"Verified":"Not Verified")),e.createElement("p",{className:"text-sm sm:text-base md:text-lg text-gray-600"},t.institution))),e.createElement("div",{className:"w-full sm:w-auto mt-24 sm:mt-12"},e.createElement("div",{className:"flex justify-between mb-1"},e.createElement("span",{className:"text-xs sm:text-sm font-medium text-gray-700"},"Funding Progress: $",t.fundsReceived||0," of $",t.totalAmountNeeded),e.createElement("span",{className:"text-xs sm:text-sm font-medium text-gray-700"},Math.round((t.fundsReceived||0)/t.totalAmountNeeded*100),"%")),e.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2 sm:h-2.5"},e.createElement("div",{className:"bg-[#C62828] h-2.5 rounded-full",style:{width:`${Math.min(100,(t.fundsReceived||0)/t.totalAmountNeeded*100)}%`,transition:"width 0.3s ease-in-out"}})))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 md:gap-8"},e.createElement("div",null,e.createElement("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-gray-800 border-b pb-1 sm:pb-2"},"Personal Information"),e.createElement("div",{className:"space-y-2 sm:space-y-3"},e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Gender:")," ",t.gender||"N/A"),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Email:")," ",t.email),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Phone:")," ",t.phone||"N/A"),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Address:")," ",t.location||"N/A"),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Nationality:")," ",t.nationality||"N/A"))),e.createElement("div",null,e.createElement("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-gray-800 border-b pb-1 sm:pb-2"},"Education Background"),e.createElement("div",{className:"space-y-2 sm:space-y-3"},e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Education Level:")," ",t.educationLevel||"N/A"),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Institution:")," ",t.institution||"N/A"),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Field of Study:")," ",t.fieldOfStudy||"N/A"),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Achievements:")," ",t.achievements||"N/A"))),e.createElement("div",{className:"md:col-span-2"},e.createElement("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-gray-800 border-b pb-1 sm:pb-2"},"Financial Need"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Amount Needed:")," $",t.totalAmountNeeded||"0"),e.createElement("p",null,e.createElement("span",{className:"font-medium"},"Deadline:")," ",t.fundingDeadline||"N/A")),e.createElement("div",null,e.createElement("h4",{className:"font-medium"},"Funding Needs:"),e.createElement("p",{className:"text-gray-700"},t.fundingNeeds||"N/A"),e.createElement("h4",{className:"font-medium mt-3"},"Reason for Financial Help:"),e.createElement("p",{className:"text-gray-700"},t.financialHelpReason||"N/A"))))))))),J=()=>{const[t,n]=f.useState([]),[m,o]=f.useState(null),[c,l]=f.useState({}),[u,i]=f.useState(null);f.useEffect(()=>{const a=()=>{let s=JSON.parse(localStorage.getItem("needyStudents")||"[]"),E=[...JSON.parse(localStorage.getItem("needyPersons")||"[]"),...s].filter((b,N,y)=>N===y.findIndex(v=>v.id===b.id));n(E)};return a(),window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]);const r=a=>{const s=t.filter(p=>p.id!==a);n(s),localStorage.setItem("needyPersons",JSON.stringify(s)),localStorage.setItem("needyStudents",JSON.stringify(s))},d=a=>{const s=t.map(p=>p.id===a?{...p,verified:!0}:p);n(s),localStorage.setItem("needyPersons",JSON.stringify(s)),localStorage.setItem("needyStudents",JSON.stringify(s))},x=a=>{o(a.id),l({...a,name:a.name||"",email:a.email||"",gender:a.gender||"",phone:a.phone||"",location:a.location||"",nationality:a.nationality||"",educationLevel:a.educationLevel||"",institution:a.institution||"",fieldOfStudy:a.fieldOfStudy||"",achievements:a.achievements||"",totalAmountNeeded:a.totalAmountNeeded||0,fundingDeadline:a.fundingDeadline||"",fundingNeeds:a.fundingNeeds||"",financialHelpReason:a.financialHelpReason||""})},g=()=>{const a=t.map(s=>s.id===m?{...s,...c}:s);n(a),localStorage.setItem("needyPersons",JSON.stringify(a)),localStorage.setItem("needyStudents",JSON.stringify(a)),o(null)};return e.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-[#FFFFFF] rounded-lg shadow p-4 md:p-6 w-full max-w-screen-2xl mx-auto overflow-x-auto"},e.createElement("h2",{className:"text-xl md:text-2xl font-bold text-[#212121] mb-4 md:mb-6"},"Application Details"),e.createElement(I,{students:t,editingId:m,editForm:c,setEditForm:l,onEdit:x,onDelete:r,onVerify:d,onView:i}),m&&e.createElement(O,{editForm:c,setEditForm:l,onSave:g,onClose:()=>o(null)}),u&&!m&&e.createElement(R,{student:u,onClose:()=>i(null)}))};export{J as default};
